{"version":3,"sources":["js/03-feedback.js"],"names":["STORAGE_KEY","refs","form","document","querySelector","textarea","onFormSubmit","evt","preventDefault","console","log","currentTarget","reset","localStorage","removeItem","onTextareaInput","message","target","value","setItem","populateTextarea","savedMessage","getItem","addEventListener","e","name","FormData"],"mappings":";AACA,MAAMA,EAAc,mBAEdC,EAAO,CACTC,KAAMC,SAASC,cAAc,qBAC7BC,SAAUF,SAASC,cAAc,+BAoBrC,SAASE,EAAaC,GAClBA,EAAIC,iBACJC,QAAQC,IAAI,sBACZH,EAAII,cAAcC,QAClBC,aAAaC,WAAWd,GAU5B,SAASe,EAAgBR,GACfS,MAAAA,EAAUT,EAAIU,OAAOC,MAE3BL,aAAaM,QAAQnB,EAAagB,GAMtC,SAASI,IACCC,MAAAA,EAAeR,aAAaS,QAAQtB,GAEvCqB,IACCZ,QAAQC,IAAIW,GACZpB,EAAKI,SAASa,MAAQG,GA7C9BpB,EAAKC,KAAKqB,iBAAiB,SAAUjB,GAErCL,EAAKI,SAASkB,iBAAiB,QAASR,GAExCd,EAAKC,KAAKqB,iBAAiB,QAASC,IAChCf,QAAQC,IAAIc,EAAEP,OAAOQ,MACrBhB,QAAQC,IAAIc,EAAEP,OAAOC,OAErBQ,SAASF,EAAEP,OAAOQ,MAAQD,EAAEP,OAAOC,MACnCT,QAAQC,IAAIgB","file":"03-feedback.e8c83638.js","sourceRoot":"../src","sourcesContent":["// import throttle from 'lodash.throttle';\nconst STORAGE_KEY = 'feedback-message';\n\nconst refs = {\n    form: document.querySelector('.js-feedback-form'),\n    textarea: document.querySelector('.js-feedback-form textarea'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n// refs.textarea.addEventListener('input', throttle(onTextareaInput, 500));//В мене не працює\nrefs.textarea.addEventListener('input', onTextareaInput);\n\nrefs.form.addEventListener('input', e => {\n    console.log(e.target.name);\n    console.log(e.target.value);\n\n    FormData[e.target.name] = e.target.value;\n    console.log(FormData);\n})\n/*\n* - Зупиняємо поведінку за замовчуванням\n* - Видаляємо повідомлення зі сховища\n* - Очищуємо форму\n*/\n\nfunction onFormSubmit(evt) { \n    evt.preventDefault();\n    console.log('Відправляємо форму');\n    evt.currentTarget.reset(); //Очищуємо поля\n    localStorage.removeItem(STORAGE_KEY);//Очищуємо саму локал сторідж\n}\n\n\n/*\n* - Отримуємо значення поля\n* - Зберігаємо його в сховище\n* - можна додати throttle(завантажили з бібіліотеки lodash і застосували в textarea)\n*/\n\nfunction onTextareaInput(evt) { \n    const message = evt.target.value;\n    // console.log(message);\n    localStorage.setItem(STORAGE_KEY, message);\n}\n\n/* - Отримуємо значення зі сховища\n* - Якщо там щось було, оновлюємо DOM\n*/\nfunction populateTextarea() {\n    const savedMessage = localStorage.getItem(STORAGE_KEY);\n\n    if(savedMessage) {\n        console.log(savedMessage);\n        refs.textarea.value = savedMessage;\n    }\n    \n}\n\n\n"]}