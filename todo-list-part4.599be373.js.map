{"version":3,"sources":["js/todo-list-part4.js"],"names":["console","log","items","id","text","isDone","itemTemplate","refs","ul","document","querySelector","form","handleIsDoneChange","event","parent","target","closest","dataset","map","item","renderList","handleDeleteItem","filter","handleSubmit","preventDefault","elements","todoText","value","newItem","Date","now","toString","push","reset","toggleItem","deleteItem","handleListClick","currentTarget","nodeName","list","join","innerHTML","insertAdjacentHTML","addEventListener"],"mappings":";AAAAA,QAAQC,IAAI,cAEZ,IAAIC,EAAQ,CACV,CAAEC,GAAI,IAAKC,KAAM,SAAUC,QAAQ,GACnC,CAAEF,GAAI,IAAKC,KAAM,UAAWC,QAAQ,GACpC,CAAEF,GAAI,IAAKC,KAAM,MAAOC,QAAQ,GAChC,CAAEF,GAAI,IAAKC,KAAM,OAAQC,QAAQ,GACjC,CAAEF,GAAI,IAAKC,KAAM,QAASC,QAAQ,IAGpC,MAAMC,EAAe,EAAGH,GAAAA,EAAIE,OAAAA,EAAQD,KAAAA,uBACrBD,0CAEYE,EAAS,UAAY,kBACtCD,gDAKJG,EAAO,CACXC,GAAIC,SAASC,cAAc,MAC3BC,KAAMF,SAASC,cAAc,SAIzBE,EAAsBC,IACtBC,MAAAA,EAASD,EAAME,OAAOC,QAAQ,OAC9B,GAACb,GAAMW,EAAOG,QACpBf,EAAQA,EAAMgB,IAAIC,GAAQA,EAAKhB,KAAOA,EAAK,IACtCgB,EACHd,QAASc,EAAKd,QACZc,GAIJnB,QAAQC,IAAIE,GACZiB,KAGMC,EAAoBR,IACpBC,MAAAA,EAASD,EAAME,OAAOC,QAAQ,OAC9B,GAACb,GAAMW,EAAOG,QACpBf,EAAQA,EAAMoB,OAAOH,GAAQA,EAAKhB,KAAOA,GACzCiB,KAGMG,EAAgBV,IACtBA,EAAMW,iBAMApB,MAAAA,EAAOS,EAAME,OAAOU,SAASC,SAASC,MAEtCC,EAAU,CACdzB,GAAI0B,KAAKC,MAAMC,WACf3B,KAAAA,EACAC,QAAQ,GAIVH,EAAM8B,KAAKJ,GACXR,IACAb,EAAKI,KAAKsB,SAGJC,EAAc/B,IAOpBD,EAAQA,EAAMgB,IAAIC,GAAQA,EAAKhB,KAAOA,EACpC,IACGgB,EACHd,QAASc,EAAKd,QAEdc,IAEIgB,EAAchC,IACpBH,QAAQC,IAAI,UACZC,EAAQA,EAAMoB,OAAOH,GAAQA,EAAKhB,KAAOA,IAGnCiC,EAAmBvB,IACrBA,GAAAA,EAAME,SAAWF,EAAMwB,cAAe,OAEpCvB,MAAAA,EAASD,EAAME,OAAOC,QAAQ,OAG9B,GAACb,GAAMW,EAAOG,QAMZJ,OAAAA,EAAME,OAAOuB,UAChB,IAAA,QACHJ,EAAW/B,GACX,MACG,IAAA,SACHgC,EAAWhC,GAKbiB,KAKMA,EAAa,KAEbmB,MAAAA,EAAOrC,EAAMgB,IAAIZ,GAAckC,KAAK,IAE1CjC,EAAKC,GAAGiC,UAAY,GACpBlC,EAAKC,GAAGkC,mBAAmB,YAAaH,IAKxChC,EAAKI,KAAKgC,iBAAiB,SAAUpB,GACrChB,EAAKC,GAAGmC,iBAAiB,QAASP,GAElChB","file":"todo-list-part4.599be373.js","sourceRoot":"../src","sourcesContent":["console.log('Module 8.2');\n\nlet items = [\n  { id: '1', text: 'молоко', isDone: false },\n  { id: '2', text: 'сметана', isDone: true },\n  { id: '3', text: 'сир', isDone: false },\n  { id: '4', text: 'хліб', isDone: true },\n  { id: '5', text: 'масло', isDone: false },\n];\n\nconst itemTemplate = ({ id, isDone, text }) => `\n<li data-id=\"${id}\">\n<label>\n  <input type=\"checkbox\" ${isDone ? 'checked' : ''} />\n  <span>${text}</span>\n</label>\n<button>x</button>\n</li>`; //в інпута якщо isDone true, то стан checked, якщо false, то нічого\n\nconst refs = {\n  ul: document.querySelector('ul'),\n  form: document.querySelector('form'),\n  };//Посилання на елементи, які у нас є: список (ul) і форма (form)\n\n\nconst handleIsDoneChange = (event) => {\nconst parent = event.target.closest('li');//батьківський елемент клікнутого\nconst {id} = parent.dataset;\nitems = items.map(item => item.id === id ? {\n  ...item,\n  isDone: !item.isDone,\n} : item);// Мепаємо наші ітемс. Якщо id поточного item дорівнює id, тоді \n// повертаємо новий об'єкт, який ми змінимо. В іншому випадку повертаємо те, \n// що було раніше. В новому об'єкті розпилюємо дані, які були до того, \n// тільки змінюємо значення isDone на не Done\nconsole.log(id);//видає батьківський id клікнутого ел-та\nrenderList();\n};\n\nconst handleDeleteItem = (event) => {\nconst parent = event.target.closest('li');//батьківський елемент клікнутого\nconst {id} = parent.dataset;\nitems = items.filter(item => item.id !== id);//У списку залишаються ті, по яких не клацнули\nrenderList();\n};\n// ---Опрацьовуємо івент сабміта-----\nconst handleSubmit = (event) => {\nevent.preventDefault();\n// console.log(event);\n// console.log(event.target);\n// console.log(event.target.elements);\n// console.log(event.target.elements.todoText);\n// console.log(event.target.elements.todoText.value);\nconst text = event.target.elements.todoText.value;\n//--створюємо новий об'єкт--\nconst newItem = {\n  id: Date.now().toString(), //к-сть мілісекунд від 01.01.1970 перводимо в текст\n  text, \n  isDone: false,\n};\n// console.log(newItem);\n//---пушимо новостворений об'єкт в айтеми----\nitems.push(newItem);\nrenderList();//формуємо новий список\nrefs.form.reset();//очищаємо поле для введення після кожного івенту\n};\n\nconst toggleItem = (id) => {\n// console.log('check');\n//--ф-ція, яка зберігає чекнуті інпути при додаванні нового елемента списку\n// ---перебираємо всі items і шукаємо з них той, що по id співпадає з поточним id.\n//--якщо співпадає, то для нього створимо новий item, який буде складатись\n//-- з усього, що там було раніше, а значення isDone запишемо, як !item.isDone,\n//-- в іншому випадку залишаємо все, як є\nitems = items.map(item => item.id === id \n? {\n  ...item,\n  isDone: !item.isDone,\n} \n: item);\n};\nconst deleteItem = (id) => {\nconsole.log('delete');\nitems = items.filter(item => item.id !== id);//в новий список потрапляють лише ті item, у яких\n// id не співпадає з id елемента, на кнопку якого клікнули\n}\nconst handleListClick = (event) => {\nif (event.target === event.currentTarget) return;// якщо клік припадає на ul, то виходимо з ф-ції\n//  console.log(event.target);//щоб зрозуміти, на який item ми потрапили при кліку\nconst parent = event.target.closest('li');// ми хочемо, щоб, куди ми не клікнули, \n//  отримати батьківський ел-т li, у якого можна взяти id\n//  console.log(parent);\nconst {id} = parent.dataset;//отримуємо id елемента списку, по якому клікнули\n//  console.log(id);\n//--щоб подивитись, яка Node-назва в елемента, на який ми клікнули--\n//--буде великимилітерами LI, BUTTON чи INPUT:\n// console.log(event.target.nodeName);\n//розмежуємо кліки на кнопку і на input:\nswitch (event.target.nodeName) {\ncase 'INPUT':\n  toggleItem(id);\n  break;\ncase 'BUTTON':\n  deleteItem(id);\n  break;\ndefault:\n  break;\n}\nrenderList();\n};\n\n//-----Ф-ція, яка видаляє всі попередні елементи зі списку і генерує нам \n// новий список, який ми підготували через items.map ----------\nconst renderList = () => {\n  \nconst list = items.map(itemTemplate).join(''); \n// console.log(list);\nrefs.ul.innerHTML = '';\nrefs.ul.insertAdjacentHTML('beforeend', list);\n\n// console.log(items);//виводить сформований список \n};\n\nrefs.form.addEventListener('submit', handleSubmit);// Підписка на сабміт\nrefs.ul.addEventListener('click', handleListClick);\n\nrenderList();//Генеруємо список перший раз після старту програми з масиву, який в нас є\n\n\n"]}